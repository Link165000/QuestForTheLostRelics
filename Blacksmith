### Town

gold = 100
inventory = ['basic armour']

# Inventory for blacksmith
blacksmith_inventory = {
    'iron sword': {'rarity': common, 'price': 50, 'damage': 10},
    'wooden shield': {'rarity': common, 'price': 15, 'defense': 5},
    'steel shield': {'rarity': uncommon, 'price': 75, 'defense': 15},
    'wooden bow': {'rarity': common, 'price': 50, 'range': 15},
    'wooden arrow': {'rarity': common, 'price': 5, 'damage': 5},
}

potion_inventory = {
    'health potion': {'rarity': common, 'price': 30, 'heal': 10
    'big health potion': {'rarity': uncommon, 'price': 40, 'heal': 20
}


def Inventory():
    print(player['inventory'], "and", gold, "gold")


def Help():
    print("write P for potions")
    print("write H for the healer")
    print("write B for the blacksmith")
    print()

def square():
    SquarePlaces = str(input('Potions and Lotions (P), Healer (H), Blacksmith (B)'))
    if SquarePlaces == "P":
        Potions()
    elif SquarePlaces == "H":
        Healer()
    elif SquarePlaces == "B":
        Blacksmith()


# -----------
# Shops in square
# -----------

# Function to display the blacksmith's inventory
def Blacksmith():
    items = "Welcome to the Blacksmith! Here are the available items:\n"
    for item, details in blacksmith_inventory.items():
        stat_type = 'damage' if 'damage' in details else 'defense'
        items += f"{item}: {details['price']} gold - {stat_type.capitalize()}: {details[stat_type]}\n"
    return items

# Function to buy an item from the blacksmith
def buy_blacksmith_item(player, item_name):
    if item_name in blacksmith_inventory:
        item = blacksmith_inventory[item_name]
        if player['gold'] >= item['price']:
            player['gold'] -= item['price']
            player['inventory'].append(item_name)
            return f"You bought {item_name} for {item['price']} gold!"
        else:
            return "You don't have enough gold!"
    else:
        return "Item not found."

# Function to interact with the blacksmith
def visit_blacksmith(player):
    print(Blacksmith())
    item = input("Enter the item you want to buy or (L) to leave: ")
    if item != "L":
        result = buy_blacksmith_item(player, item)
        print(result)


def Potions():
    items = "Welcome to the Potion shop! Here are the available items:\n"
    for item, details in blacksmith_inventory.items():
        stat_type = 'damage' if 'damage' in details else 'defense'
        items += f"{item}: {details['price']} gold - {stat_type.capitalize()}: {details[stat_type]}\n"
    return items

# Function to buy an item from the blacksmith
def buy_potion_item(player, item_name):
    if item_name in potion_inventory:
        item = potion_inventory[item_name]
        if player['gold'] >= item['price']:
            player['gold'] -= item['price']
            player['inventory'].append(item_name)
            return f"You bought {item_name} for {item['price']} gold!"
        else:
            return "You don't have enough gold!"
    else:
        return "Item not found."

# Function to interact with the blacksmith
def visit_potions(player):
    print(Potions())
    item = input("Enter the item you want to buy or (L) to leave: ")
    if item != "L":
        result = buy_potion_item(player, item)
        print(result)

def load_player(name, gold, inventory):
    return {
        'name': name,
        'gold': gold,  # You can change this value to test purchases
        'inventory': [inventory]
    }


        
    
if __name__ == '__main__':
    # Create a player for testing
    player = load_player("Hero", 100, inventory)
    
    # Places in town
while True:
    print("Town Square (T)', 'Fighting arena (F)', 'Magic School (M), ")
    Places = str(input('Leave(L) and Help(H): '))
    if Places == "T":
        square()
    elif Places == "F":
        Fight()
    elif Places == "M":
        Magic()
    elif Places == "L":
        print("Goodbye")
        break
    elif Places == "H":
        Help()
    elif Places == "I":
        Inventory()





